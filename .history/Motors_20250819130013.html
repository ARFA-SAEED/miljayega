<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Miljaega.pk - Local Classifieds and Services</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./Css/miljaega-homepage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        body {
            background-color: rgb(220, 228, 245);
        }
    </style>
</head>

<body class="bg-gray-50">

    <!-- Header -->
    <header class="bg-white shadow-sm fixed top-0 z-50 w-full">
        <div class="lg:mx-auto 2xl:mx-20 relative py-3 container px-4 sm:px-6">
            <div class="flex justify-between items-center py-3">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <img src="./images/logo.svg" alt="Logo" class="h-8 sm:h-10" />
                </div>

                <!-- Nav (XL only) -->
                <nav class="hidden xl:flex absolute ms-80 2xl:ms-[500px] left-1/2 transform -translate-x-1/2 space-x-6 text-sm font-medium text-gray-600"
                    style="max-width: 100%; overflow-x: auto; white-space: nowrap;">
                    <!-- Tabs wrapper (handled by JS) -->
                </nav>

                <!-- Mobile Hamburger -->
                <button id="mobileMenuToggle" class="block xl:hidden text-gray-700 hover:text-primary-green"
                    aria-label="Toggle menu">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobileMenu"
        class="xl:hidden hidden flex bg-white shadow-md fixed top-[72px] left-0 right-0 z-40 max-h-[calc(100vh-72px)] overflow-y-auto">
        <!-- Mobile menu content here -->
    </div>

    <!-- Spacer -->
    <div class="pt-[72px]"></div>

    <!-- Tabs -->
    <section>
        <div class="px-4 sm:px-6 md:ms-17 relative container mt-8">
            <div class="w-full overflow-x-auto mx-2 scrollbar-hide">
                <div class="flex flex-nowrap items-center mb-4 min-w-max" id="tabContainer">
                    <div class="arrow-tab bg-blue-900 text-white relative flex items-center h-12 px-3 pr-5 flex-shrink-0"
                        data-category="ALL">
                        <span class="z-10 me-7 relative text-xs font-bold">ALL</span>
                        <div
                            class="absolute right-0 top-0 w-0 h-0 border-l-[12px] border-l-blue-900 border-y-[16px] border-y-transparent border-solid translate-x-full">
                        </div>
                    </div>
                    <div class="arrow-tab bg-gray-200 text-black relative flex items-center h-12 ps-4 pe-4 md:ps-7 md:pe-7 flex-shrink-0"
                        data-category="NEW">
                        <span class="z-10 relative ms-3 font-semibold font-bold text-xs">NEW</span>
                        <div
                            class="absolute right-0 top-0 w-0 h-0 border-l-[12px] border-l-gray-200 border-y-[16px] border-y-transparent border-solid translate-x-full">
                        </div>
                    </div>
                    <div class="arrow-tab bg-gray-200 text-black relative flex items-center h-12 ps-7 pe-7 md:ps-8 md:pr-8 flex-shrink-0"
                        data-category="USED">
                        <span class="z-10 relative ms-3 font-semibold text-xs">USED</span>
                        <div
                            class="absolute right-0 top-0 w-0 h-0 border-l-[12px] border-l-gray-200 border-y-[16px] border-y-transparent border-solid translate-x-full">
                        </div>
                    </div>
                    <div class="arrow-tab bg-gray-200 text-black relative flex items-center h-12 ps-7 pe-7 md:ps-8 md:pr-8 flex-shrink-0"
                        data-category="RENT">
                        <span class="z-10 relative font-semibold ms-3 text-xs">RENT</span>
                        <div
                            class="absolute right-0 top-0 w-0 h-0 border-l-[12px] border-l-gray-200 border-y-[16px] border-y-transparent border-solid translate-x-full">
                        </div>
                    </div>
                    <div class="arrow-tab bg-gray-200 text-black relative flex items-center h-12 ps-3 pe-5 md:ps-4 md:pr-6 flex-shrink-0"
                        data-category="EXCHANGE">
                        <span class="z-10 relative font-semibold ms-3 text-xs">EXCHANGE</span>
                        <div
                            class="absolute right-0 top-0 w-0 h-0 border-l-[12px] border-l-gray-200 border-y-[16px] border-y-transparent border-solid translate-x-full">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Motors Section -->
    <main class="mx-4 sm:mx-6 lg:mx-24 relative py-3">
        <section>
            <div class="py-1 relative px-2 sm:px-0">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-[#0C3168]" style="font-family: 'Poppins', sans-serif;">Motors
                    </h2>
                    <a href="" class="text-blue-900 font-bold whitespace-nowrap">View More</a>
                </div>
                <div class="flex flex-wrap gap-8 sm:gap-12 lg:gap-20 mt-8" id="mycardsmotorsmain"></div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-[#0C3168] text-white">
        <!-- Footer content as in your original code -->
    </footer>

    <!-- Scripts -->
    <script src="./js/miljaega-homepage.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Mobile Menu Toggle
            const toggleBtn = document.getElementById("mobileMenuToggle");
            const mobileMenu = document.getElementById("mobileMenu");
            toggleBtn?.addEventListener("click", () => mobileMenu.classList.toggle("hidden"));

            // Tabs
            const tabs = document.querySelectorAll('.arrow-tab');
            const container = document.getElementById("mycardsmotorsmain");
            let carsData = [];

            // Fetch cars data
            fetch("miljaega-motors.json")
                .then(res => res.json())
                .then(data => {
                    carsData = data;
                    renderCars(carsData); // Render all initially
                })
                .catch(err => console.error("Error loading cars:", err));

            // Tab click filtering
            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    tabs.forEach(t => t.classList.remove('active', 'bg-blue-900', 'text-white'));
                    this.classList.add('active', 'bg-blue-900', 'text-white');
                    this.style.zIndex = '10';

                    const category = this.dataset.category;
                    const filtered = category === 'ALL' ? carsData : carsData.filter(car => car.Category === category);
                    renderCars(filtered);
                });
            });

            // Render cars function
            function renderCars(cars) {
                container.innerHTML = "";
                const fragment = document.createDocumentFragment();
                cars.slice(0, 8).forEach(car => {
                    const div = document.createElement('div');
                    div.className = "w-full mb-6 lg:w-[calc(48%-12px)]";
                    div.innerHTML = `
<div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 h-full flex flex-col transform transition-transform duration-300 ease-in-out hover:scale-[1.02]">
  <div class="flex justify-between items-start mb-3">
    <div class="flex-1 min-w-0">
      <h2 class="text-lg font-bold text-blue-900 truncate">${car.Name}</h2>
      <p class="text-sm text-gray-600 mt-1 line-clamp-2">${car.Details}</p>
    </div>
    <button class="flex-shrink-0 flex items-center text-xs font-bold px-3 py-1.5 rounded-full bg-gradient-to-r from-gray-50 to-white text-rose-500 border border-rose-200 shadow-sm hover:shadow-md hover:bg-rose-50 hover:text-rose-600 transition-all duration-200 ml-2">
      <i class="fa-solid fa-heart me-2"></i> Save
    </button>
  </div>
  <div class="flex flex-col sm:flex-row gap-4 flex-grow">
    <div class="flex-shrink-0 w-full sm:w-[40%] lg:w-[45%] xl:w-[40%] flex flex-col overflow-hidden">
      <div class="relative aspect-video rounded-lg overflow-hidden group">
        <img src="${car.Pictures[0]}" alt="${car.Name}" class="w-full h-full object-cover rounded-lg transition-transform duration-500 group-hover:scale-110" />
        <div class="absolute bottom-3 left-3 bg-gray-800/50 text-white text-xs px-2 py-1 rounded flex items-center backdrop-blur-sm">
          <i class="fa-regular fa-clock mr-1 text-[8px] text-gray-300"></i> ${car.AdPostedTime || "Recently posted"}
        </div>
      </div>
      <div class="sm:block hidden">
        <div class="flex flex-wrap gap-2 mt-7">
          ${car.Verified ? `<span class="bg-green-900 text-white text-xs font-semibold px-2 py-0.5 rounded-full flex items-center shadow-sm whitespace-nowrap"><i class="fa-solid fa-check-circle mr-1 text-[10px]"></i> ${car.Verified}</span>` : ""}
          ${car.Trusted ? `<span class="bg-blue-900 text-white text-xs font-semibold px-2 py-0.5 rounded-full flex items-center shadow-sm whitespace-nowrap"><i class="fa-solid fa-shield-alt mr-1 text-[10px]"></i> ${car.Trusted}</span>` : ""}
        </div>
      </div>
    </div>
    <div class="flex flex-col flex-grow min-w-0">
      <div class="grid grid-cols-2 gap-x-4 gap-y-3 text-sm text-gray-700">
        <div class="flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-car text-xs"></i></span><span class="truncate">${car.Model}</span></div>
        <div class="flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-tachometer-alt text-xs"></i></span><span>${car.KMDriven}</span></div>
        <div class="flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-gas-pump text-xs"></i></span><span>${car.FuelType}</span></div>
        <div class="flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-cog text-xs"></i></span><span>${car.EngineCapacity}</span></div>
        <div class="col-span-2 flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-exchange-alt text-xs"></i></span><span>${car.Transmission}</span></div>
        <div class="col-span-2 flex items-center"><span class="bg-gray-200 text-gray-600 p-1.5 rounded-full mr-2 flex items-center justify-center"><i class="fa-solid fa-map-marker-alt text-xs"></i></span><span class="truncate">${car.Address}</span></div>
        <div class="col-span-2 flex flex-wrap gap-2 mt-1 sm:hidden">
          ${car.Verified ? `<span class="bg-green-900 text-white text-xs font-semibold px-2 py-1 rounded-full flex items-center shadow-sm whitespace-nowrap"><i class="fa-solid fa-check-circle mr-1 text-[10px]"></i> ${car.Verified}</span>` : ""}
          ${car.Trusted ? `<span class="bg-blue-900 text-white text-xs font-semibold px-2 py-1 rounded-full flex items-center shadow-sm whitespace-nowrap"><i class="fa-solid fa-shield-alt mr-1 text-[10px]"></i> ${car.Trusted}</span>` : ""}
        </div>
      </div>
      <div class="mt-4 flex justify-between items-center">
        <span class="text-blue-900 font-bold text-xl">PKR ${car.Price}</span>
        <button class="text-xs font-bold px-3 py-1 rounded-full bg-gradient-to-r from-gray-50 to-white text-rose-500 border border-rose-200 shadow-sm hover:shadow-md hover:bg-rose-50 hover:text-rose-600 transition-all duration-200">Contact Seller</button>
      </div>
    </div>
  </div>
</div>`;
                    fragment.appendChild(div);
                });
                container.appendChild(fragment);
            }
        });
    </script>
</body>

</html>